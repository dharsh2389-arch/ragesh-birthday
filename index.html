<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Ragesh ðŸ’™</title>

<style>

body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:url("photo10.jpeg") center center no-repeat fixed;
background-size:cover;
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
text-align:center;
color:white;
overflow:hidden;
}

body::before{
content:"";
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.65);
z-index:0;
}

.container{
position:relative;
z-index:2;
width:95%;
max-width:900px;
padding:20px;
}

h1,h2,h3,p{
margin:12px 0;
text-shadow:0 4px 15px rgba(0,0,0,0.9);
}

button{
padding:12px 25px;
margin-top:15px;
border:none;
border-radius:30px;
background:#2563eb;
color:white;
cursor:pointer;
font-size:16px;
transition:0.3s;
box-shadow:0 8px 20px rgba(0,0,0,0.4);
}

button:hover{
transform:scale(1.08);
}

.hidden{
display:none;
}

/* CONFETTI */

.confetti{
position:fixed;
width:8px;
height:12px;
top:-10px;
animation:fall linear infinite;
z-index:1;
}

@keyframes fall{
0%{transform:translateY(-10px);}
100%{transform:translateY(100vh);}
}

/* HEART BURST */

.heart{
position:fixed;
font-size:20px;
animation:heartMove 1s ease-out forwards;
z-index:999;
}

@keyframes heartMove{
0%{transform:translate(0,0) scale(1); opacity:1;}
100%{transform:translate(var(--x), var(--y)) scale(2); opacity:0;}
}

/* PHOTO GRID */

.image-container{
display:flex;
flex-wrap:wrap;
justify-content:center;
gap:20px;
margin-top:20px;
}

.flip-box{
width:4cm;
height:4cm;
perspective:800px;
cursor:pointer;
}

.flip-inner{
position:relative;
width:100%;
height:100%;
transition:transform 0.6s;
transform-style:preserve-3d;
}

.flip-box.flipped .flip-inner{
transform:rotateY(180deg);
}

.flip-front,.flip-back{
position:absolute;
width:100%;
height:100%;
backface-visibility:hidden;
border-radius:15px;
overflow:hidden;
display:flex;
justify-content:center;
align-items:center;
font-size:40px;
}

.flip-front{
background:linear-gradient(135deg,#1e3a8a,#2563eb);
border:2px solid rgba(255,255,255,0.3);
box-shadow:0 8px 20px rgba(0,0,0,0.5);
}

.flip-back{
transform:rotateY(180deg);
}

.flip-back img{
width:100%;
height:100%;
object-fit:cover;
}

.big{
font-size:28px;
font-weight:bold;
color:#60a5fa;
}

input{
padding:10px;
border-radius:20px;
border:none;
width:250px;
text-align:center;
}

</style>
</head>
<body>

<div class="container">

<div id="page1">
<h1>Happiest Birthday Mr. Ragesh ðŸŽ‰</h1>
<button onclick="goToPassword()">Next ðŸ’™</button>
</div>

<div id="passwordPage" class="hidden">
<h2><b>Hold on!!! Before entering... You should answer this... â™¡</b></h2>
<p>Who is your favourite person in this world you cannot live without???</p>
<input type="password" id="passwordInput">
<br>
<button onclick="checkPassword()">Enter ðŸ’™</button>
<p id="passwordError"></p>
</div>

<div id="mainFlow" class="hidden">

<h2 id="mainText"></h2>
<button id="mainNext" onclick="nextMain()">Next ðŸ’™</button>

<div id="imagesSection" class="hidden">
<h3>Flip all the cards ðŸ‘‡</h3>
<div class="image-container" id="photoGrid"></div>
<button id="afterImagesBtn" class="hidden" onclick="nextPhotoBatch()">Next ðŸ’™</button>
</div>

<div id="quiz1" class="hidden">
<h3>Do you love me?</h3>
<button onclick="loveYes(event)">Yes</button>
<button onclick="loveNo()">No</button>
<p id="quiz1Msg"></p>
<button id="quiz1Next" class="hidden" onclick="showQuiz2()">Next ðŸ’™</button>
</div>

<div id="quiz2" class="hidden">
<h3>Do you want to see my favourite picture??</h3>
<button onclick="picYes()">Yes</button>
<button onclick="picNo()">No</button>
<p id="quiz2Msg"></p>
<div id="favSection" class="hidden">
<img src="photo5.jpeg" width="250">
<br>
<button onclick="showFinalMessages()">Next ðŸ’™</button>
</div>
</div>

<div id="finalSection" class="hidden">
<h3 id="finalText"></h3>
<button onclick="nextFinal()">Next ðŸ’™</button>
</div>

</div>
</div>

<script>

/* CONFETTI */
for(let i=0;i<120;i++){
let c=document.createElement("div");
c.className="confetti";
c.style.left=Math.random()*100+"%";
c.style.backgroundColor="hsl("+Math.random()*360+",100%,50%)";
c.style.animationDuration=(Math.random()*3+2)+"s";
document.body.appendChild(c);
}

/* ENTER SUPPORT */
document.addEventListener("keydown",function(e){
if(e.key==="Enter"){
let visibleButtons=[...document.querySelectorAll("button")]
.filter(btn=>!btn.classList.contains("hidden") && btn.offsetParent!==null);
if(visibleButtons.length>0){
visibleButtons[visibleButtons.length-1].click();
}
}
});

/* PASSWORD */

function goToPassword(){
page1.classList.add("hidden");
passwordPage.classList.remove("hidden");
passwordInput.focus();
}

function checkPassword(){
let val=passwordInput.value.trim().toLowerCase();
if(val==="dharshini"){
passwordPage.classList.add("hidden");
mainFlow.classList.remove("hidden");
mainText.innerText="Happy Birthday my dear!!! I am truly proud of you.";
}else{
passwordError.innerText="Don't you know who is your queen?";
}
}

/* MESSAGES */

let messages=[
"Happy Birthday my dear!!! I am truly proud of you.",
"Whatever the problem is and whatever the situation, I will be with you.",
"Congratulations on turning 21. Bigger achievements are waiting for you.",
"Let me show you something special."
];

let msgIndex=0;

function nextMain(){
msgIndex++;
if(msgIndex<messages.length){
mainText.innerText=messages[msgIndex];
}else{
mainText.classList.add("hidden");
mainNext.classList.add("hidden");
imagesSection.classList.remove("hidden");
generatePhotos();
}
}

/* PHOTO PAGINATION */

let emojis=["ðŸ’–","ðŸ’™","ðŸ’•","ðŸ’œ","â¤ï¸","âœ¨"];
let photoList=[];
let currentPhotoIndex=0;
let photosPerPage=4;
let totalFlipped=0;

for(let i=1;i<=13;i++){
if(i===5 || i===10) continue;
photoList.push(i);
}

function generatePhotos(){
currentPhotoIndex=0;
showPhotoBatch();
}

function showPhotoBatch(){

let grid=document.getElementById("photoGrid");
grid.innerHTML="";
totalFlipped=0;

let end=currentPhotoIndex+photosPerPage;

for(let i=currentPhotoIndex;i<end && i<photoList.length;i++){

let emoji=emojis[Math.floor(Math.random()*emojis.length)];
let photoNumber=photoList[i];

let box=document.createElement("div");
box.className="flip-box";

box.innerHTML=`
<div class="flip-inner">
<div class="flip-front">${emoji}</div>
<div class="flip-back"><img src="photo${photoNumber}.jpeg"></div>
</div>
`;

box.onclick=function(){
if(!box.classList.contains("flipped")){
box.classList.add("flipped");
totalFlipped++;
let cardsThisPage=Math.min(photosPerPage, photoList.length-currentPhotoIndex);
if(totalFlipped===cardsThisPage){
afterImagesBtn.classList.remove("hidden");
}
}
};

grid.appendChild(box);
}

afterImagesBtn.classList.add("hidden");
}

function nextPhotoBatch(){
currentPhotoIndex+=photosPerPage;
if(currentPhotoIndex<photoList.length){
showPhotoBatch();
}else{
imagesSection.classList.add("hidden");
quiz1.classList.remove("hidden");
}
}

/* HEART BURST */

function heartBurst(x,y){
for(let i=0;i<20;i++){
let heart=document.createElement("div");
heart.className="heart";
heart.innerHTML="ðŸ’–";
heart.style.left=x+"px";
heart.style.top=y+"px";
heart.style.setProperty('--x',(Math.random()*200-100)+'px');
heart.style.setProperty('--y',(Math.random()*-200)+'px');
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),1000);
}
}

/* QUIZ */

function loveYes(event){
heartBurst(event.clientX,event.clientY);
quiz1Msg.innerHTML="<div class='big'>I knew it ðŸ’™ I love you too!</div>";
quiz1Next.classList.remove("hidden");
}

function loveNo(){
quiz1Msg.innerHTML="<div class='big'>What??? That answer is not accepted ðŸ˜Œ</div>";
}

function showQuiz2(){
quiz1.classList.add("hidden");
quiz2.classList.remove("hidden");
}

function picYes(){
quiz2Msg.innerText="I knew you were waiting for this. This is special.";
favSection.classList.remove("hidden");
}

function picNo(){
quiz2Msg.innerHTML="<div class='big'>Of course you should click Yes. No other option ðŸ˜Œ</div>";
}

let finalMsgs=[
"I am lucky to have you as my elder brother.",
"Thank you for watching this. Thank you for being with me at all times. This is my first website and it is for you."
];

let finalIndex=0;

function showFinalMessages(){
quiz2.classList.add("hidden");
finalSection.classList.remove("hidden");
finalText.innerText=finalMsgs[finalIndex];
}

function nextFinal(){
finalIndex++;
if(finalIndex<finalMsgs.length){
finalText.innerText=finalMsgs[finalIndex];
}else{
finalSection.innerHTML="<h1>Happy 21 dear!!!!!!!</h1><p>May your life fill with joy and happiness...</p>";
setTimeout(()=>location.reload(),5000);
}
}

</script>

</body>
</html>